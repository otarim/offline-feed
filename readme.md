# offline-feed

最近买了个kindle，kindle支持推送并且支持同步书架，所以就想如果kindle能看新闻那也不错，每天定时抓我喜欢的网站的新闻，然后推送给kindle，kindle在有网络的情况下帮我离线到设备里面，这样子我早上就能离线看新闻啦，也不用流量。所以花了几个钟的时间搞了这个东西。目前支持离线知乎，v2ex，煎蛋，西贝，简书的最新文章，以后有需求我再抓其他网站的数据。

161112更新：

1. 支持抓取微信rss（微广场），支持离线微信公众号图片（其他服务原理类似）
2. 因为增加了离线图片，所以需要转换为 `mobi` 格式文件，依赖 `kindlegen`
3. 目前抓取微信rss增加了去重功能，所以抓取过的文章不会再向kindle推送

## 原理

我找了这几个网站的rss，没有rss的直接写爬虫爬首页，然后搞个队列爬内页内容，输出不同html，然后打包发邮件给kindle，kindle会返回对应的网站的输出文件给你，你也可以搞个定时任务跑我的脚本，这样可以保证每天都能看到最新的资讯

## 怎么用

配置下 `config.js`，输入你的邮箱以及kindle邮箱，还有你邮箱的客户端密码（注意是客户端密码而不是登录密码，邮箱要开启smtp功能），然后执行 `npm start` 就行了

## 共享代码

欢迎fork，star，开issue

## 致敬

邮件部分参考了[ksend](https://github.com/hanan198501/ksend/)的实现，感谢:-)